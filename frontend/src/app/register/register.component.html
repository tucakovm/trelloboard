<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-body">
          <h2 class="text-center mb-4">Register</h2>
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
              <label for="first_name" class="form-label">First Name</label>
              <input
                type="text"
                id="first_name"
                formControlName="firstname"
                class="form-control"
              />
              <div
                *ngIf="
                  registerForm.get('firstname')?.invalid &&
                  registerForm.get('firstname')?.touched
                "
                class="text-danger small"
              >
                <small
                  *ngIf="registerForm.get('firstname')?.errors?.['required']"
                >First name is required.</small
                >
                <small
                  *ngIf="registerForm.get('firstname')?.errors?.['minlength']"
                >First name must be at least 2 characters long.</small
                >
              </div>
            </div>

            <div class="mb-3">
              <label for="last_name" class="form-label">Last Name</label>
              <input
                type="text"
                id="last_name"
                formControlName="lastname"
                class="form-control"
              />
              <div
                *ngIf="
                  registerForm.get('lastname')?.invalid &&
                  registerForm.get('lastname')?.touched
                "
                class="text-danger small"
              >
                <small
                  *ngIf="registerForm.get('lastname')?.errors?.['required']"
                >Last name is required.</small
                >
                <small
                  *ngIf="registerForm.get('lastname')?.errors?.['minlength']"
                >Last name must be at least 2 characters long.</small
                >
              </div>
            </div>

            <div class="mb-3">
              <label for="username" class="form-label">Username</label>
              <input
                type="text"
                id="username"
                formControlName="username"
                class="form-control"
              />
              <div
                *ngIf="
                  registerForm.get('username')?.invalid &&
                  registerForm.get('username')?.touched
                "
                class="text-danger small"
              >
                <small
                  *ngIf="registerForm.get('username')?.errors?.['required']"
                >Username is required.</small
                >
                <small
                  *ngIf="registerForm.get('username')?.errors?.['minlength']"
                >Username must be at least 4 characters long.</small
                >
              </div>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-control"
              />
              <div
                *ngIf="
                  registerForm.get('email')?.invalid &&
                  registerForm.get('email')?.touched
                "
                class="text-danger small"
              >
                <small *ngIf="registerForm.get('email')?.errors?.['required']"
                >Email is required.</small
                >
                <small *ngIf="registerForm.get('email')?.errors?.['email']"
                >Please enter a valid email address.</small
                >
              </div>
            </div>

            <div class="mb-3">
              <label for="role" class="form-label">Role</label>
              <select id="role" formControlName="role" class="form-control">
                <option value="" disabled selected>Select role</option>
                <option value="User">User</option>
                <option value="Manager">Manager</option>
              </select>
              <div
                *ngIf="
                  registerForm.get('role')?.invalid &&
                  registerForm.get('role')?.touched
                "
                class="text-danger small"
              >
                <small *ngIf="registerForm.get('role')?.errors?.['required']"
                >Role is required.</small
                >
              </div>
            </div>

            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                id="password"
                formControlName="password"
                class="form-control"
              />
              <div
                *ngIf="
                  registerForm.get('password')?.invalid &&
                  registerForm.get('password')?.touched
                "
                class="text-danger small"
              >
                <small
                  *ngIf="registerForm.get('password')?.errors?.['required']"
                >Password is required.</small
                >
                <small
                  *ngIf="registerForm.get('password')?.errors?.['minlength']"
                >Password must be at least 6 characters long.</small
                >
              </div>
            </div>

            <div class="mb-3">
              <label for="repeatPassword" class="form-label">Repeat Password</label>
              <input
                type="password"
                id="repeatPassword"
                formControlName="repeatPassword"
                class="form-control"
              />
              <div
                *ngIf="
                    registerForm.get('repeatPassword')?.invalid &&
                     registerForm.get('repeatPassword')?.touched "
                class="text-danger small"
              >
                <small *ngIf="registerForm.get('repeatPassword')?.errors?.['required']">
                  Repeat password is required.
                </small>
                <small *ngIf="registerForm.get('repeatPassword')?.errors?.['mismatch']">
                  Passwords do not match.
                </small>
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-primary w-100"
              [disabled]="registerForm.invalid"
            >
              Register
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
